<!DOCTYPE html>
<html lang="en">
    <head>
        {% load static %}
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>AI Image Generator</title>
    
        <link rel="stylesheet" href="{% static 'css/generate.css' %}">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    </head>
    
<body>
    <header>
        <nav class="container">
            <a href="{% url 'home' %}" class="logo">
                <i class="fas fa-compress"></i>
                <span>AI Compress</span>
            </a>
            <div class="nav-links">
                <a href="{% url 'home' %}"><i class="fas fa-home"></i> Home</a>
                <a href="{% url 'contact' %}"><i class="fas fa-envelope"></i> Contact</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'profile' %}"><i class="fas fa-user"></i> Profile</a>
                    <a href="{% url 'logout' %}"><i class="fas fa-sign-out-alt"></i> Logout</a>
                {% else %}
                    <a href="{% url 'login' %}"><i class="fas fa-sign-in-alt"></i> Login</a>
                {% endif %}
            </div>
        </nav>
    </header>
    <!-- <div class="container">
        <h1>AI Image Generator</h1>
        <form method="post">
            {% csrf_token %}
            <div class="mb-3">
                <label for="prompt" class="form-label">Enter your image description:</label>
                <input type="text" class="form-control" id="prompt" name="prompt" required value="{{ request.POST.prompt|default:'' }}">
            </div>
            <button type="submit" class="btn btn-primary w-100">Generate Image</button>
        </form>

        {% if error %}
            <div class="error-message mt-4">
                {{ error }}
            </div>
        {% elif image_url %}
            <h3 class="mt-4">Generated Image:</h3>
            <img src="{{ image_url }}" alt="Generated Image" class="generated-img">
            <a href="{{ image_url }}" class="download-link" download="generated_image.jpg">
                <i class="fas fa-download"></i> Download Image
            </a>
        {% endif %}
    </div> -->
    <div class="container d-flex justify-content-center align-items-center min-vh-100 flex-column">
        <div class="generate-form-box w-100" style="max-width: 600px;">
            <h1 class="text-center mb-4">AI Image Generator</h1>
            <form method="post">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="prompt" class="form-label">Enter your image description:</label>
                    <input type="text" class="form-control" id="prompt" name="prompt" required value="{{ request.POST.prompt|default:'' }}">
                </div>
                <button type="submit" class="btn btn-primary w-100">Generate Image</button>
            </form>
    
            {% if error %}
                <div class="alert alert-danger mt-4 text-center">{{ error }}</div>
            {% elif image_url %}
                <div class="text-center mt-4">
                    <h3>Generated Image:</h3>
                    <img src="{{ image_url }}" alt="Generated Image" class="img-fluid rounded shadow-sm my-3">
                    <br>
                    <a href="{{ image_url }}" class="btn btn-outline-success" download="generated_image.jpg">
                        <i class="fas fa-download"></i> Download Image
                    </a>
                </div>
            {% endif %}
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
</body>
</html>